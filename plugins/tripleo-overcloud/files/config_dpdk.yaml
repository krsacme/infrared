resource_registry:
  OS::TripleO::ComputeOvsDpdk::NodeUserData: /home/stack/composable_roles/dpdk/first-boot-dpdk.yaml

parameter_defaults:
  ComputeOvsDpdkParameters:
    KernelArgs: "default_hugepagesz=2MB hugepagesz=2M hugepages=512"
    TunedProfileName: "cpu-partitioning"
    IsolCpusList: "2,3"

  OvsDpdkSocketMemory: "1024"
  OvsDpdkMemoryChannels: "4"
  NovaReservedHostMemory: 2048

  OvsPmdCoreList: "2"
  OvsDpdkCoreList: "0,1"
  NovaVcpuPinSet: ['3']

  # TODO (skramaja): Need to fix the template composable_roles/nodes.yaml.j2
  # to pick the role name correctly - User ComputeOvsDpdkCount instead of
  # ComputedvsdpdkCount. Missing caps in the middle of the role name.
  ComputeOvsDpdkCount: 1
  OvercloudComputeOvsDpdkFlavor: computeovsdpdk
